# English Phrase Manager 📖

YouTubeで学んだ英語フレーズを管理・復習するためのWebアプリケーション。
音声再生機能により、効率的な学習をサポートします。

---

## 🌟 主な機能

- ✅ **ユーザー認証**: 個人のデータを安全に管理
- ✅ **フレーズ管理**: 英語フレーズと日本語の意味を登録
- ✅ **YouTube連携**: 動画URLとタイムスタンプを保存
- ✅ **CSV一括インポート**: 大量のフレーズを一度に登録
- ✅ **レビューモード**: 未学習フレーズのみを表示
- ✅ **ラジオモード**: 音声で連続再生（英語×2 → 日本語×1）
- ✅ **学習進捗管理**: 学習済みフレーズを自動で除外
- ✅ **マルチデバイス対応**: PC・スマートフォンで利用可能

---

## 🚀 クイックスタート

### 1. アカウント作成

初回利用時は「新規登録」タブからアカウントを作成します。

- **ユーザー名**: 半角英数字（一意である必要があります）
- **パスワード**: 4文字以上

### 2. フレーズを準備する

#### 推奨方法: NotebookLMを使う

1. **YouTubeのURLをNotebookLMに入力**
   - NotebookLM: https://notebooklm.google.com/
   - YouTube動画のURLを貼り付け

2. **フレーズリストを生成**
   - NotebookLMに以下のようなプロンプトを入力：
   ```
   この動画から使える英語フレーズを抽出して、
   以下の形式のテーブルで出力してください：
   
   | No | phrase | meaning |
   |---|---|---|
   | 1 | piece of cake | 朝飯前 |
   | 2 | break the ice | 緊張をほぐす |
   ```

3. **CSVファイルとして保存**
   - 生成されたテーブルをコピー
   - Excelやスプレッドシートに貼り付け
   - CSV形式で保存

### 3. CSVをインポート

1. アプリの「Data Import」を選択
2. CSVファイルをアップロード
3. カラムをマッピング：
   - 「phrase」→ 英語フレーズの列を選択
   - 「meaning」→ 日本語の意味の列を選択
4. 「Import Data」をクリック

---

## 📋 CSVファイルのフォーマット

### 実際のフォーマット例

```csv
番号,英文 (English Sentence),日本語文 (Japanese Translation)
1,The factory turns out 800 motorcycles a month.,その工場は月に800台のオートバイを生産しています。
2,Would you please turn down the TV a little?,テレビの音を少し下げていただけますか？
3,It is impossible for me to finish the work in a day.,私がその仕事を一日で終えるのは不可能です。
```

### NotebookLMでのフレーズ抽出プロンプト

NotebookLM (https://notebooklm.google.com/) にYouTube URLを追加した後、以下のプロンプトを使用してください：

```
この動画から使える英語フレーズを抽出して、
以下の形式のCSVテーブルで出力してください：

番号,英文 (English Sentence),日本語文 (Japanese Translation)
1,piece of cake,朝飯前
2,break the ice,緊張をほぐす

条件:
- 実用的な英語フレーズを20〜50個抽出
- 各フレーズに自然な日本語訳を付ける
- 番号は1から連番で振る
- CSVとしてコピー可能な形式で出力
```

**ヒント**: 
- 動画の長さに応じて抽出数を調整してください
- 特定のトピック（ビジネス英語、日常会話など）を指定するとより良い結果が得られます

### カラムマッピング

アプリでCSVをインポートする際、以下のようにマッピングしてください：

| CSVのカラム名 | アプリの項目 |
|-------------|-----------|
| `英文 (English Sentence)` | **phrase** (必須) |
| `日本語文 (Japanese Translation)` | **meaning** (必須) |
| `番号` | インポート不要（自動で無視されます） |

---

## 📚 使い方ガイド

### レビューモード

1. サイドバーから「Review Mode」を選択
2. 未学習フレーズがカード形式で表示されます
3. フレーズを確認して、覚えたら「✅ Learned」ボタンをクリック
4. 学習済みフレーズは次回から表示されません

### ラジオモード（音声学習）

1. サイドバーから「Radio Mode」を選択
2. 再生件数をスライダーで選択（デフォルト: 10件）
3. 「ラジオ生成スタート」をクリック
4. 音声が自動生成されます：
   - **英語フレーズ × 2回**
   - **日本語の意味 × 1回**
   - この順序で連続再生
5. 生成完了後、プレイヤーで再生

**ヒント**: 
- 通勤・通学中に聞くのがおすすめ
- iPhoneでも再生可能

### データ管理

**学習進捗をリセット**
- 「Manage Data」→「Reset Progress」
- 全フレーズが「未学習」状態に戻ります

**学習済みフレーズを削除**
- 「Manage Data」→「Delete Learned Phrases」
- 学習完了したフレーズのみを削除できます

**全データ削除**
- 「Manage Data」→「Delete ALL Phrases」
- チェックボックスで確認後、全削除

---

## 🎯 学習の流れ（推奨）

1. **YouTube動画を見る**
2. **NotebookLMでフレーズを抽出**
3. **CSVでインポート**
4. **レビューモードで確認**
5. **ラジオモードで復習**
6. **学習済みマークを付ける**
7. **定期的に復習**

---

## 🛠️ 技術スタック

- **フロントエンド**: Streamlit
- **バックエンド**: Python
- **データベース**: SQLite
- **音声生成**: Google Text-to-Speech (gTTS)
- **デプロイ**: Streamlit Community Cloud

---

## 🔒 プライバシーとセキュリティ

- ✅ パスワードはSHA-256でハッシュ化して保存
- ✅ ユーザーごとにデータを完全分離
- ✅ 他のユーザーのデータは一切閲覧不可
- ✅ SQLインジェクション対策済み

---

## 📧 共有方法

このアプリを他の人と共有したい場合：

1. Streamlit Cloudのアプリ画面で「Share」ボタンをクリック
2. 表示されたURLをコピー
3. LINEやメールで送信

**受け取った人は**:
- URLにアクセス
- 新規アカウントを作成
- すぐに使える！

各ユーザーのデータは完全に分離されているので、安心して共有できます。

---

## 🎉 更新履歴

### v1.0.0 (2026-02-14)
- 初回リリース
- ユーザー認証機能
- フレーズ管理機能
- ラジオモード（音声再生）
- iOS対応

---

**Enjoy learning English! 🚀**
